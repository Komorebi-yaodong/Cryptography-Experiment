#include<stdio.h>
#define LL long long

typedef struct BigNumber {
	LL head;
	LL tail;
} BN;

BN KEY[16] ;

void get_key(BN key) {
	int LS[16] = {1, 1, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 1};
	int PC1[56] = {
		57, 49, 41, 33, 25, 17, 9, 1, 58, 50, 42, 34, 26, 18,
		10, 2, 59, 51, 43, 35, 27, 19, 11, 3, 60, 52, 44, 36,
		63, 55, 47, 39, 31, 23, 15, 7, 62, 54, 46, 38, 30, 22,
		14, 6, 61, 53, 45, 37, 29, 21, 13, 5, 28, 20, 12, 4
	} ;
	int PC2[48] = {
		14, 17, 11, 24, 1, 5, 3, 28, 15, 6, 21, 10,
		23, 19, 12, 4, 26, 8, 16, 7, 27, 20, 13, 2,
		41, 52, 31, 37, 47, 55, 30, 40, 51, 45, 33, 48,
		44, 49, 39, 56, 34, 53, 46, 42, 50, 36, 29, 32
	};

	BN k1 , k2 ;
	LL C = 0 , D = 0 ;
	LL tmp = 0 ;
	int ls = 0 ;
	int i = 0 , j = 0 , count = 0 ;
	int distance = 0 ;
	int flag = 0 ;

	k1.head = 0 ;
	k1.tail = 0 ;
	for(i=0; i<56; i++) {
		distance = 64-PC1[i] ;
		if(distance >= 32) {
			flag = 1&(key.head>>(distance-32));
		} else {
			flag = 1&(key.tail>>(distance));
		}
		if(i>=28) {
			k1.tail = k1.tail^(flag<<(55-i)) ;
		} else {
			k1.head = k1.head^(flag<<(27-i)) ;
		}
	}
	C = k1.head ;
	D = k1.tail ;

	for(i = 0 ; i < 16 ; i++ ) {

		ls = LS[i] ;
		tmp = C>>(28-ls) ;
		C = ((C<<ls)^tmp)&0xfffffff ;
		tmp = D>>(28-ls) ;
		D = ((D<<ls)^tmp)&0xfffffff ;

		k2.head = 0 ;
		k2.tail = 0 ;
		for(j = 0 ; j < 48 ; j++ ) {
			distance = 56 - PC2[j] ;
			if(distance >= 28) {
				flag = 1&(C>>(distance-28));
			} else {
				flag = 1&(D>>(distance));
			}
			if(j>=24) {
				k2.tail = k2.tail^(flag<<(47-j)) ;
			} else {
				k2.head = k2.head^(flag<<(23-j)) ;
			}
		}
		KEY[count++] =  k2 ;
	}
}

BN h2n(char *s) {
	BN num ;
	int i = 0 ;
	int c = 0 ;
	int point = 1 ;

	num.head = 0 ;
	num.tail = 0 ;

	for(i = 2 ,point = 1; i < 18 ; i++ ,point++) {
		if(i < 10) {
			if(s[i]>='0' && s[i] <= '9') {
				num.head ^= ((s[i]-'0')<<(32-4*point)) ;
			} else {
				num.head ^= ((s[i]-'a'+10)<<(32-4*point)) ;
			}
		} else {
			if(s[i]>='0' && s[i] <= '9') {
				num.tail ^= ((s[i]-'0')<<(64-4*point)) ;
			} else {
				num.tail ^= ((s[i]-'a'+10)<<(64-4*point)) ;
			}
		}
	}
	return num ;
}

BN IP_substitution(BN s_64 , int mode ) {
	int IP[65] = {
		58, 50, 42, 34, 26, 18, 10, 2, 60, 52, 44, 36, 28, 20, 12, 4,
		62, 54, 46, 38, 30, 22, 14, 6, 64, 56, 48, 40, 32, 24, 16, 8,
		57, 49, 41, 33, 25, 17, 9, 1, 59, 51, 43, 35, 27, 19, 11, 3,
		61, 53, 45, 37, 29, 21, 13, 5, 63, 55, 47, 39, 31, 23, 15, 7
	};
	int IP_[65] = {
		40, 8, 48, 16, 56, 24, 64, 32, 39, 7, 47, 15, 55, 23, 63, 31,
		38, 6, 46, 14, 54, 22, 62, 30, 37, 5, 45, 13, 53, 21, 61, 29,
		36, 4, 44, 12, 52, 20, 60, 28, 35, 3, 43, 11, 51, 19, 59, 27,
		34, 2, 42, 10, 50, 18, 58, 26, 33, 1, 41, 9, 49, 17, 57, 25
	} ;
	int i = 0 ;
	int distance , flag = 0 ;
	BN result ;


	result.head = 0 ;
	result.tail = 0 ;

	if(mode==1) {
		for(i = 0 ; i < 64 ; i++ ) {
			distance = 64-IP[i] ;
			if(distance >= 32) {
				flag = 1&(s_64.head>>(distance-32)) ;
			} else {
				flag = 1&(s_64.tail>>(distance)) ;
			}
			if(i>=32) {
				result.tail = (result.tail^(flag<<(63-i)))&0xffffffff ;
			} else {
				result.head = (result.head^(flag<<(31-i)))&0xffffffff ;
			}
		}
	}

	else {
		for(i = 0 ; i < 64 ; i++ ) {
			distance = 64-IP_[i] ;
			if(distance >= 32) {
				flag = 1&(s_64.head>>(distance-32)) ;
			} else {
				flag = 1&(s_64.tail>>(distance)) ;
			}
			if(i>=32) {
				result.tail = (result.tail^(flag<<(63-i)))&0xffffffff ;
			} else {
				result.head = (result.head^(flag<<(31-i)))&0xffffffff ;
			}
		}
	}
	return result ;
}

BN expand_substitution(LL num) {
	BN res ;
	int E[48] = {
		32, 1, 2, 3, 4, 5,
		4, 5, 6, 7, 8, 9,
		8, 9, 10, 11, 12, 13,
		12, 13, 14, 15, 16, 17,
		16, 17, 18, 19, 20, 21,
		20, 21, 22, 23, 24, 25,
		24, 25, 26, 27, 28, 29,
		28, 29, 30, 31, 32, 1
	};
	int i = 0 ;
	int distance ,flag = 0;

	res.head = 0 ;
	res.tail = 0 ;

	for(i = 0 ; i < 48 ; i++) {
		distance = E[i] - 1 ;
		flag = 1 & (num >> distance);
		if(i>=24) {
			res.head = (res.head^(flag<<(i-24)))&0xffffff ;
		} else {
			res.tail = (res.tail^(flag<<(i)))&0xffffff ;
		}
	}
	return res ;
}

LL s_box(BN s_48) {
	LL sbox[8][4][16]= {
		{
			{0x00808200,0x00008000,0x00808002,0x00000002,0x00000200,0x00808202,0x00800202,0x00800000,0x00000202,0x00800200,0x00008200,0x00808000,0x00008002,0x00800002,0x00000000,0x00008202},
			{0x00000000,0x00808202,0x00008202,0x00008000,0x00808200,0x00000200,0x00808002,0x00000002,0x00800200,0x00008200,0x00808000,0x00800202,0x00800002,0x00008002,0x00000202,0x00800000},
			{0x00008000,0x00000002,0x00808200,0x00800000,0x00808002,0x00008200,0x00000200,0x00800202,0x00808202,0x00808000,0x00800002,0x00008202,0x00000202,0x00800200,0x00008002,0x00000000},
			{0x00808202,0x00808000,0x00800000,0x00000200,0x00008000,0x00800002,0x00000002,0x00008202,0x00008002,0x00800202,0x00000202,0x00808200,0x00800200,0x00000000,0x00008200,0x00808002}

		},
		{

			{1074282512,16384,524288,1074266128,1073741840,1074282496,1073758208,16,540672,1073758224,1073741824,540688,524304,0,16400,1074266112},
			{1073758208,540688,16,1073758224,1074282512,1073741824,524288,1074266128,524304,0,16384,1074266112,1073741840,540672,1074282496,16400},
			{0,1074266128,1073758224,1074282496,1074266112,16,540688,16384,16400,524288,524304,1073741840,540672,1073758208,1073741824,1074282512},
			{540688,524288,1074266112,16384,1073758208,1074282512,16,1073741824,1074282496,1073741840,1073758224,524304,0,16400,1074266128,540672}
		},
		{

			{260,0,67109120,65796,65540,67108868,67174660,67174400,67108864,67174656,65792,67174404,67109124,65536,4,256},
			{67174656,67174404,0,67109120,67108868,65536,65540,260,4,256,67174400,65796,65792,67109124,67174660,67108864},
			{67174656,65540,65536,67109120,256,67174660,67108868,0,67109124,67108864,4,65792,67174400,260,65796,67174404},
			{67108864,260,67174656,0,65540,67109120,256,67174404,65536,67174660,65796,67108868,67109124,67174400,4,65792}
		},
		{

			{2151682048,2147487808,4198464,2151677952,0,4198400,2147483712,4194368,2147483648,4194304,64,2147487744,2151678016,4160,4096,2151682112},
			{2147487808,64,2151678016,2147487744,4198400,2151682112,0,2151677952,4096,2151682048,4194304,4160,2147483648,4194368,4198464,2147483712},
			{4194368,4198400,2147483712,0,4160,2151678016,2151682048,2147487808,2151682112,2147483648,2151677952,4198464,2147487744,4194304,64,4096},
			{2151677952,2151682112,0,4198400,4194368,2147483648,2147487808,64,2147483712,4096,2147487744,2151678016,4160,2151682048,4194304,4198464}
		},
		{

			{128,17039360,262144,536870912,537133184,16777344,553648256,262272,16777216,537133056,536871040,553910400,553910272,0,17039488,553648128},
			{17039488,553648256,128,17039360,262144,537133184,553910272,536870912,537133056,0,553910400,16777344,536871040,553648128,16777216,262272},
			{262144,128,536870912,553648256,16777344,553910272,537133184,16777216,553910400,553648128,17039360,537133056,262272,536871040,0,17039488},
			{553648256,16777216,17039360,537133184,536870912,17039488,128,553910272,262272,553910400,0,553648128,16777344,262144,537133056,536871040}
		},
		{

			{268435464,8192,270532608,270540808,268443648,2097152,2097160,268435456,0,268443656,2105344,8,270532616,2105352,8200,270540800},
			{270532608,270540808,8,2097152,2105352,268435464,268443648,8200,2097160,8192,268443656,270532616,0,270540800,2105344,268435456},
			{268443648,270532616,270540808,8200,2097152,268435456,268435464,2105344,2105352,0,8,270532608,8192,268443656,270540800,2097160},
			{8,2105344,2097152,268435464,268443648,8200,270540808,270532608,270540800,270532616,8192,2105352,2097160,0,268435456,268443656}
		},
		{
			{1048576,33555457,1024,1049601,34604033,0,1,34603009,33555456,1048577,33554433,34604032,34603008,1025,1049600,33554432},
			{34603009,0,33555457,34604032,1048576,33554433,33554432,1025,1049601,33555456,34603008,1048577,1024,34604033,1,1049600},
			{33554432,1048576,33555457,34603009,1048577,33555456,34604032,1049601,1025,34604033,1049600,1,0,34603008,33554433,1024},
			{1049600,33555457,34603009,1,33554432,1048576,1025,34604032,33554433,34603008,0,34604033,1049601,1024,33555456,1048577}
		},
		{
			{134219808,131072,134217728,32,131104,134350880,134350848,2048,134348800,134219776,133120,134348832,2080,0,134217760,133152},
			{2048,134350880,134219808,134217728,134348800,133120,133152,32,134217760,2080,131104,134350848,0,134348832,134219776,131072},
			{133152,134350848,32,2048,134219776,134217760,134348832,131072,0,131104,134348800,134219808,134350880,133120,2080,134217728},
			{131072,2048,134348832,133152,32,134348800,134217728,134219808,134350880,134217760,134219776,0,133120,2080,131104,134350848}
		}
	};
	int tmp ;
	int i , j ;
	LL res = 0 ;
	LL s0,s1,s2,s3,s4,s5,s6,s7 ;

	tmp = (s_48.head>>18)&0b111111 ;
	i = (((tmp>>4)&0b10)^(tmp&1))&0b11 ;
	j = (tmp>>1)& 0b01111 ;
	s0 = sbox[0][i][j] ;

	tmp = (s_48.head>>12)&0b111111 ;
	i = (((tmp>>4)&0b10)^(tmp&1))&0b11 ;
	j = (tmp>>1)& 0b01111 ;
	s1 = sbox[1][i][j] ;

	tmp = (s_48.head>>6)&0b111111 ;
	i = (((tmp>>4)&0b10)^(tmp&1))&0b11 ;
	j = (tmp>>1)& 0b01111 ;
	s2 = sbox[2][i][j] ;

	tmp = (s_48.head>>0)&0b111111 ;
	i = (((tmp>>4)&0b10)^(tmp&1))&0b11 ;
	j = (tmp>>1)& 0b01111 ;
	s3 = sbox[3][i][j] ;

	tmp = (s_48.tail>>18)&0b111111 ;
	i = (((tmp>>4)&0b10)^(tmp&1))&0b11 ;
	j = (tmp>>1)& 0b01111 ;
	s4 = sbox[4][i][j] ;

	tmp = (s_48.tail>>12)&0b111111 ;
	i = (((tmp>>4)&0b10)^(tmp&1))&0b11 ;
	j = (tmp>>1)& 0b01111 ;
	s5 = sbox[5][i][j] ;

	tmp = (s_48.tail>>6)&0b111111 ;
	i = (((tmp>>4)&0b10)^(tmp&1))&0b11 ;
	j = (tmp>>1)& 0b01111 ;
	s6 = sbox[6][i][j] ;

	tmp = (s_48.tail>>0)&0b111111 ;
	i = (((tmp>>4)&0b10)^(tmp&1))&0b11 ;
	j = (tmp>>1)& 0b01111 ;
	s7 = sbox[7][i][j] ;

	res = s0|s1|s2|s3|s4|s5|s6|s7 ;

	return res ;
}

BN F_func(BN s , BN key ) {
	LL left = s.head , right = s.tail ;
	BN after_e ;
	BN after_k ;
	LL after_sp ;
	BN res ;
	int i = 0 ;

	after_e = expand_substitution(right) ;

	after_k.head = after_e.head ^ key.head ;
	after_k.tail = after_e.tail ^ key.tail ;

	//spºĞ
	after_sp = s_box(after_k) ;

	res.head = right & 0xffffffff ;
	res.tail = (left ^ after_sp) & 0xffffffff ;

	return res ;
}

BN des(BN res ) {
	int i = 0 ;
	int round = 0 ;
	LL tmp = 0 ;

	for(round = 0 ; round < 16 ; round++) {
		res = F_func(res,KEY[round]) ;
	}
	tmp = res.head ;
	res.head = res.tail ;
	res.tail = tmp ;



	return res ;
}

int main() {
	int T = 0 ;
	char s[19] , k[19] ;
	int i = 0 ;
	BN ans ;
	BN k_64 ;

	scanf("%d" , &T ) ;
	scanf("%s" , s ) ;
	scanf("%s" , k ) ;

	ans = h2n(s) ;
	k_64 = h2n(k) ;

	get_key(k_64) ;

	ans = IP_substitution(ans , 1) ;

	for(i = 0 ; i < T; i++) {
		ans = des(ans) ;
	}

	ans = IP_substitution(ans , 0) ;

	printf("0x%08llx%08llx" , ans.head , ans.tail) ;

	return 0 ;
}

